{"ast":null,"code":"var _jsxFileName = \"/Users/jungle/Documents/Developer Tests/Artivism/src/components/Carousel3D.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Carousel3D = () => {\n  _s();\n  const [hoverPreview, setHoverPreview] = useState(null);\n  const [previewPosition, setPreviewPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const carouselRef = useRef(null);\n\n  // Datos de las imágenes del carrusel con colores de preview\n  const baseSlides = [{\n    id: 1,\n    src: '/assets/img/cuadro-ejemplo.jpg',\n    title: 'Cuadro Ejemplo',\n    color: '#FF0000',\n    preview: 'https://d3i6fh83elv35t.cloudfront.net/static/2022/11/2022-11-15T130307Z_1480766008_RC2CMX9KZZZJ_RTRMADP_3_CLIMATE-PROTESTS-AUSTRIA-KLIMT-1024x768.jpg',\n    location: 'Leopold Museum, Vienna, 2022'\n  }, {\n    id: 2,\n    src: '/assets/img/cuadro-ejemplo-2.jpg',\n    title: 'Cuadro Ejemplo 2',\n    color: '#00FF00',\n    preview: 'https://static.dw.com/image/68105658_605.jpg',\n    location: 'Louvre Museum, Paris, 2024'\n  }, {\n    id: 3,\n    src: '/assets/img/cuadro-ejemplo-3.jpg',\n    title: 'Cuadro Ejemplo 3',\n    color: '#0000FF',\n    preview: 'https://ak.uecdn.es/p/108/thumbnail/entry_id/0_8h95f14y/width/660/cache_st/1665826845/type/2/bgcolor/000000/0_8h95f14y.jpg',\n    location: 'National Gallery, London, 2022'\n  }, {\n    id: 4,\n    src: '/assets/img/cuadro-ejemplo-4.jpg',\n    title: 'Cuadro Ejemplo 4',\n    color: '#FFFF00',\n    preview: '/assets/img/les-meules-protest.jpg',\n    location: 'Musée d\\'Orsay, Paris, 2022'\n  }];\n\n  // Generar múltiples copias para scroll infinito\n  const slides = [];\n  const copies = 3;\n  for (let c = 0; c < copies; c++) {\n    baseSlides.forEach(slide => {\n      slides.push({\n        ...slide,\n        id: `${slide.id}-copy-${c}`\n      });\n    });\n  }\n\n  // Listener para cambios de tamaño de ventana\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Auto-scroll infinito (LÓGICA EXACTA DE STORE)\n  useEffect(() => {\n    var _carouselRef$current;\n    // Constantes del sistema de copias\n    const BASE = baseSlides.length;\n    const COPIES = 3;\n    const MID = Math.floor(COPIES / 2);\n\n    // Tamaño responsive del carrusel - OPTIMIZADO PARA DISPOSITIVOS MÓVILES\n    const slideWidth = windowWidth < 400 ? 250 : windowWidth < 768 ? 300 : windowWidth < 1024 ? 260 : windowWidth < 1200 ? 330 : windowWidth < 1366 ? 400 : windowWidth < 1440 ? 272 : 350; // Móviles pequeños: 250px, Móviles medianos: 300px, Tablets pequeñas: 260px, Tablets medianas: 330px, iPad Pro vertical: 400px, MacBook Air: 272px (compensando gap-2), Desktop: 350px\n    const gapPx = windowWidth < 400 ? 0 : windowWidth < 768 ? 4 : windowWidth < 1024 ? 12 : windowWidth < 1200 ? 7 : windowWidth < 1366 ? 15 : windowWidth < 1440 ? 0 : 8; // Móviles pequeños: sin gap, Móviles medianos: 4px, Tablets pequeñas: 12px, Tablets medianas: 7px, iPad Pro vertical: 15px, MacBook Air: 0px, Desktop: 8px\n    const unitWidth = slideWidth + gapPx;\n\n    // Debug: mostrar valores calculados\n    console.log('Carousel3D Debug:', {\n      windowWidth,\n      slideWidth,\n      gapPx,\n      unitWidth,\n      BASE\n    });\n    let baseWidth = unitWidth * BASE;\n    let offsetPx = -baseWidth * MID;\n    let velocity = 0;\n\n    // Constantes del auto-scroll\n    const AUTO_VX = 0.5; // Velocidad reducida para desktop\n\n    // Estados del sistema\n    let autoPaused = false;\n    let mobileTouched = false; // Flag para saber si se ha tocado en mobile\n\n    const applyTransform = () => {\n      if (carouselRef.current) {\n        // En mobile: añadir transición suave para el movimiento de imagen en imagen\n        if (windowWidth < 768) {\n          carouselRef.current.style.transition = 'transform 0.3s ease-out';\n        } else {\n          // En desktop: sin transición para mantener el scroll fluido\n          carouselRef.current.style.transition = 'none';\n        }\n        carouselRef.current.style.transform = `translate3d(${Math.round(offsetPx)}px, 0, 0)`;\n      }\n    };\n\n    // Animation loop - EXACTA LÓGICA DE STORE\n    const animate = () => {\n      // En mobile, si se ha tocado, no hacer auto-scroll\n      const shouldAutoScroll = window.innerWidth >= 768 || !mobileTouched;\n      const autoV = autoPaused || !shouldAutoScroll ? 0 : AUTO_VX;\n      offsetPx += velocity * 0.3 + autoV;\n      velocity *= 0.94;\n      offsetPx = (offsetPx % baseWidth + baseWidth) % baseWidth - baseWidth * MID;\n      applyTransform();\n      requestAnimationFrame(animate);\n    };\n\n    // Start animation loop\n    animate();\n\n    // Wheel scroll control - EXACTA LÓGICA DE STORE\n    let wheelLock = false;\n    const onWheel = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      // Wheel scroll control\n\n      setTimeout(() => {\n        // Wheel scroll control\n      }, 40);\n      if (wheelLock) return;\n      const delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY;\n      if (Math.abs(delta) < 20) return;\n      wheelLock = true;\n      if (delta > 0) {\n        velocity -= unitWidth / 6;\n      } else {\n        velocity += unitWidth / 6;\n      }\n      velocity = Math.max(-unitWidth, Math.min(unitWidth, velocity));\n      setTimeout(() => {\n        wheelLock = false;\n      }, 90);\n    };\n\n    // Touch/swipe control - EXACTA LÓGICA DE STORE\n    let touchStartX = 0;\n    let touchStartY = 0;\n    let touchEndX = 0;\n    let touchEndY = 0;\n    let isDragging = false; // Flag para saber si se está arrastrando\n\n    const onTouchStart = e => {\n      // Solo en mobile (pantallas pequeñas)\n      if (window.innerWidth < 768) {\n        e.preventDefault(); // Bloquear scroll vertical completamente\n        touchStartX = e.touches[0].clientX;\n        touchStartY = e.touches[0].clientY;\n        mobileTouched = true; // Marcar que se ha tocado en mobile\n        isDragging = true;\n        autoPaused = true; // Pausar auto-scroll inmediatamente\n      }\n    };\n    const onTouchMove = e => {\n      if (window.innerWidth < 768) {\n        touchEndX = e.touches[0].clientX;\n        touchEndY = e.touches[0].clientY;\n      }\n    };\n    const onTouchEnd = e => {\n      if (window.innerWidth < 768) {\n        const deltaX = touchStartX - touchEndX;\n        const deltaY = touchStartY - touchEndY;\n        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 30) {\n          // Movimiento de imagen en imagen\n          if (deltaX > 0) {\n            // Swipe izquierda - siguiente imagen\n            offsetPx -= unitWidth;\n          } else {\n            // Swipe derecha - imagen anterior\n            offsetPx += unitWidth;\n          }\n\n          // En mobile: hacer snap a la posición exacta para centrado perfecto\n          const centerOffset = -baseWidth * MID;\n          const currentCenter = offsetPx - centerOffset;\n          const imageIndex = Math.round(currentCenter / unitWidth);\n          const targetOffset = centerOffset + imageIndex * unitWidth;\n\n          // Ajustar a la posición exacta de la imagen\n          offsetPx = targetOffset;\n\n          // Aplicar la transformación con animación suave\n          applyTransform();\n        }\n      }\n    };\n\n    // Control con flechas del teclado\n    const onKeyDown = e => {\n      // Solo procesar si no estamos en un input o textarea\n      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;\n      switch (e.key) {\n        case 'ArrowLeft':\n          e.preventDefault();\n          // Mover una imagen a la izquierda\n          offsetPx -= unitWidth;\n          break;\n        case 'ArrowRight':\n          e.preventDefault();\n          // Mover una imagen a la derecha\n          offsetPx += unitWidth;\n          break;\n        default:\n          return;\n        // No procesar otras teclas\n      }\n\n      // Normalizar posición inmediatamente\n      offsetPx = (offsetPx % baseWidth + baseWidth) % baseWidth - baseWidth * MID;\n      applyTransform();\n    };\n\n    // Agregar event listeners\n    const section = (_carouselRef$current = carouselRef.current) === null || _carouselRef$current === void 0 ? void 0 : _carouselRef$current.closest('section');\n    if (section) {\n      section.addEventListener('wheel', onWheel, {\n        passive: false\n      });\n      section.addEventListener('touchstart', onTouchStart, {\n        passive: false\n      });\n      section.addEventListener('touchmove', onTouchMove, {\n        passive: true\n      });\n      section.addEventListener('touchend', onTouchEnd, {\n        passive: true\n      });\n\n      // Pause auto-scroll while hovering the carousel area\n      section.addEventListener('mouseenter', () => {\n        autoPaused = true;\n      });\n      section.addEventListener('mouseleave', () => {\n        autoPaused = false;\n      });\n    }\n\n    // Agregar event listener para teclado (global)\n    document.addEventListener('keydown', onKeyDown);\n\n    // Cleanup\n    return () => {\n      if (section) {\n        section.removeEventListener('wheel', onWheel);\n        section.removeEventListener('touchstart', onTouchStart);\n        section.removeEventListener('touchmove', onTouchMove);\n        section.removeEventListener('touchend', onTouchEnd);\n        section.removeEventListener('mouseenter', () => {\n          autoPaused = true;\n        });\n        section.removeEventListener('mouseleave', () => {\n          autoPaused = false;\n        });\n      }\n      document.removeEventListener('keydown', onKeyDown);\n    };\n  }, []);\n\n  // Función para posicionar el preview en hover\n  const positionPreview = (e, slide) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // Solo mostrar preview en el 60% central de la imagen\n    const shouldShow = x > rect.width * 0.2 && x < rect.width * 0.8;\n    if (shouldShow) {\n      const pad = 4; // Offset del cursor\n      setPreviewPosition({\n        x: e.clientX + pad,\n        y: e.clientY - 130 + pad // Centrar verticalmente\n      });\n      setHoverPreview({\n        color: slide.color,\n        preview: slide.preview,\n        location: slide.location\n      });\n    }\n  };\n\n  // Detectar si es un dispositivo táctil\n  const isTouchDevice = () => {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n  };\n\n  // Event handlers para el preview - solo en dispositivos no táctiles\n  const handleMouseEnter = (e, slide) => {\n    if (!isTouchDevice()) {\n      positionPreview(e, slide);\n    }\n  };\n  const handleMouseMove = (e, slide) => {\n    if (!isTouchDevice()) {\n      positionPreview(e, slide);\n    }\n  };\n  const handleMouseLeave = () => {\n    if (!isTouchDevice()) {\n      setHoverPreview(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"relative w-full select-none\",\n    \"aria-label\": \"Featured pieces\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full h-[50vh] md:h-[55vh] xl:h-[60vh] overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: carouselRef,\n        className: \"relative h-full flex items-center gap-2 px-6\",\n        style: {\n          width: `${slides.length * 350}px`,\n          transform: 'translate3d(0, 0, 0)',\n          // Optimizaciones específicas para Chrome\n          ...(navigator.userAgent.includes('Chrome') && {\n            willChange: 'transform',\n            backfaceVisibility: 'hidden',\n            perspective: '1000px'\n          })\n        },\n        children: slides.map((slide, index) => /*#__PURE__*/_jsxDEV(\"figure\", {\n          className: \"flex-shrink-0 flex items-center justify-center transition-all duration-300 ease-in-out cursor-pointer\",\n          style: {\n            width: windowWidth < 400 ? '250px' : windowWidth < 768 ? '300px' : windowWidth < 1024 ? '260px' : windowWidth < 1200 ? '330px' : windowWidth < 1366 ? '400px' : windowWidth < 1440 ? '272px' : '350px',\n            height: '100%'\n          },\n          onMouseEnter: e => handleMouseEnter(e, slide),\n          onMouseMove: e => handleMouseMove(e, slide),\n          onMouseLeave: handleMouseLeave,\n          onClick: () => {\n            console.log('Click en slide ID:', slide.id, 'Título:', slide.title);\n            if (slide.id.toString().startsWith('1')) {\n              console.log('Redirigiendo a /deathandlife');\n              window.location.href = '/deathandlife';\n            } else if (slide.id.toString().startsWith('3')) {\n              console.log('Redirigiendo a /sunflowers');\n              window.location.href = '/sunflowers';\n            } else if (slide.id.toString().startsWith('4')) {\n              console.log('Redirigiendo a /lesmeules');\n              window.location.href = '/lesmeules';\n            } else {\n              console.log('Redirigiendo a /gioconda');\n              window.location.href = '/gioconda';\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: slide.src,\n            alt: slide.title,\n            className: \"block w-full h-auto max-w-full max-h-full object-contain select-none\",\n            draggable: false,\n            loading: \"lazy\",\n            decoding: \"async\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)\n        }, slide.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), hoverPreview && !isTouchDevice() && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed z-[2000] pointer-events-none overflow-hidden transform transition-all duration-300 ease-out animate-in fade-in-0 zoom-in-95\",\n      style: {\n        left: previewPosition.x + 'px',\n        top: previewPosition.y + 'px',\n        width: '280px',\n        aspectRatio: '16 / 9'\n      },\n      children: hoverPreview.preview && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-full h-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-full bg-white rounded-2xl shadow-2xl overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: hoverPreview.preview,\n            alt: \"Preview\",\n            className: \"w-full h-full object-cover\",\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4 rounded-b-2xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[10px] font-normal tracking-wide\",\n              children: hoverPreview.location || 'París, 2024'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-3 right-3 w-2 h-2 bg-red-500 rounded-full animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n_s(Carousel3D, \"BLLfPrEzYLhw62ypuezX2VhUMcc=\");\n_c = Carousel3D;\nexport default Carousel3D;\nvar _c;\n$RefreshReg$(_c, \"Carousel3D\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","Carousel3D","_s","hoverPreview","setHoverPreview","previewPosition","setPreviewPosition","x","y","windowWidth","setWindowWidth","window","innerWidth","carouselRef","baseSlides","id","src","title","color","preview","location","slides","copies","c","forEach","slide","push","handleResize","addEventListener","removeEventListener","_carouselRef$current","BASE","length","COPIES","MID","Math","floor","slideWidth","gapPx","unitWidth","console","log","baseWidth","offsetPx","velocity","AUTO_VX","autoPaused","mobileTouched","applyTransform","current","style","transition","transform","round","animate","shouldAutoScroll","autoV","requestAnimationFrame","wheelLock","onWheel","e","preventDefault","stopPropagation","setTimeout","delta","abs","deltaX","deltaY","max","min","touchStartX","touchStartY","touchEndX","touchEndY","isDragging","onTouchStart","touches","clientX","clientY","onTouchMove","onTouchEnd","centerOffset","currentCenter","imageIndex","targetOffset","onKeyDown","target","tagName","key","section","closest","passive","document","positionPreview","rect","currentTarget","getBoundingClientRect","left","top","shouldShow","width","pad","isTouchDevice","navigator","maxTouchPoints","handleMouseEnter","handleMouseMove","handleMouseLeave","className","children","ref","userAgent","includes","willChange","backfaceVisibility","perspective","map","index","height","onMouseEnter","onMouseMove","onMouseLeave","onClick","toString","startsWith","href","alt","draggable","loading","decoding","fileName","_jsxFileName","lineNumber","columnNumber","aspectRatio","_c","$RefreshReg$"],"sources":["/Users/jungle/Documents/Developer Tests/Artivism/src/components/Carousel3D.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst Carousel3D = () => {\n  const [hoverPreview, setHoverPreview] = useState(null);\n  const [previewPosition, setPreviewPosition] = useState({ x: 0, y: 0 });\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const carouselRef = useRef(null);\n\n  // Datos de las imágenes del carrusel con colores de preview\n  const baseSlides = [\n    { id: 1, src: '/assets/img/cuadro-ejemplo.jpg', title: 'Cuadro Ejemplo', color: '#FF0000', preview: 'https://d3i6fh83elv35t.cloudfront.net/static/2022/11/2022-11-15T130307Z_1480766008_RC2CMX9KZZZJ_RTRMADP_3_CLIMATE-PROTESTS-AUSTRIA-KLIMT-1024x768.jpg', location: 'Leopold Museum, Vienna, 2022' },\n    { id: 2, src: '/assets/img/cuadro-ejemplo-2.jpg', title: 'Cuadro Ejemplo 2', color: '#00FF00', preview: 'https://static.dw.com/image/68105658_605.jpg', location: 'Louvre Museum, Paris, 2024' },\n    { id: 3, src: '/assets/img/cuadro-ejemplo-3.jpg', title: 'Cuadro Ejemplo 3', color: '#0000FF', preview: 'https://ak.uecdn.es/p/108/thumbnail/entry_id/0_8h95f14y/width/660/cache_st/1665826845/type/2/bgcolor/000000/0_8h95f14y.jpg', location: 'National Gallery, London, 2022' },\n    { id: 4, src: '/assets/img/cuadro-ejemplo-4.jpg', title: 'Cuadro Ejemplo 4', color: '#FFFF00', preview: '/assets/img/les-meules-protest.jpg', location: 'Musée d\\'Orsay, Paris, 2022' }\n  ];\n\n  // Generar múltiples copias para scroll infinito\n  const slides = [];\n  const copies = 3;\n  for (let c = 0; c < copies; c++) {\n    baseSlides.forEach(slide => {\n      slides.push({\n        ...slide,\n        id: `${slide.id}-copy-${c}`\n      });\n    });\n  }\n\n  // Listener para cambios de tamaño de ventana\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Auto-scroll infinito (LÓGICA EXACTA DE STORE)\n  useEffect(() => {\n    // Constantes del sistema de copias\n    const BASE = baseSlides.length;\n    const COPIES = 3;\n    const MID = Math.floor(COPIES / 2);\n    \n    // Tamaño responsive del carrusel - OPTIMIZADO PARA DISPOSITIVOS MÓVILES\n    const slideWidth = windowWidth < 400 ? 250 : windowWidth < 768 ? 300 : windowWidth < 1024 ? 260 : windowWidth < 1200 ? 330 : windowWidth < 1366 ? 400 : windowWidth < 1440 ? 272 : 350; // Móviles pequeños: 250px, Móviles medianos: 300px, Tablets pequeñas: 260px, Tablets medianas: 330px, iPad Pro vertical: 400px, MacBook Air: 272px (compensando gap-2), Desktop: 350px\n    const gapPx = windowWidth < 400 ? 0 : windowWidth < 768 ? 4 : windowWidth < 1024 ? 12 : windowWidth < 1200 ? 7 : windowWidth < 1366 ? 15 : windowWidth < 1440 ? 0 : 8; // Móviles pequeños: sin gap, Móviles medianos: 4px, Tablets pequeñas: 12px, Tablets medianas: 7px, iPad Pro vertical: 15px, MacBook Air: 0px, Desktop: 8px\n    const unitWidth = slideWidth + gapPx;\n    \n    // Debug: mostrar valores calculados\n    console.log('Carousel3D Debug:', {\n      windowWidth,\n      slideWidth,\n      gapPx,\n      unitWidth,\n      BASE\n    });\n    \n    let baseWidth = unitWidth * BASE;\n    let offsetPx = -baseWidth * MID;\n    let velocity = 0;\n    \n    // Constantes del auto-scroll\n    const AUTO_VX = 0.5; // Velocidad reducida para desktop\n    \n    // Estados del sistema\n    let autoPaused = false;\n    let mobileTouched = false; // Flag para saber si se ha tocado en mobile\n\n    const applyTransform = () => {\n      if (carouselRef.current) {\n        // En mobile: añadir transición suave para el movimiento de imagen en imagen\n        if (windowWidth < 768) {\n          carouselRef.current.style.transition = 'transform 0.3s ease-out';\n        } else {\n          // En desktop: sin transición para mantener el scroll fluido\n          carouselRef.current.style.transition = 'none';\n        }\n        \n        carouselRef.current.style.transform = `translate3d(${Math.round(offsetPx)}px, 0, 0)`;\n      }\n    };\n    \n    // Animation loop - EXACTA LÓGICA DE STORE\n    const animate = () => {\n      // En mobile, si se ha tocado, no hacer auto-scroll\n      const shouldAutoScroll = window.innerWidth >= 768 || !mobileTouched;\n      const autoV = (autoPaused || !shouldAutoScroll) ? 0 : AUTO_VX;\n      \n      offsetPx += (velocity * 0.3) + autoV;\n      \n      velocity *= 0.94;\n      \n      offsetPx = ((offsetPx % baseWidth) + baseWidth) % baseWidth - baseWidth * MID;\n      \n      applyTransform();\n      requestAnimationFrame(animate);\n    };\n    \n    // Start animation loop\n    animate();\n    \n    // Wheel scroll control - EXACTA LÓGICA DE STORE\n    let wheelLock = false;\n    const onWheel = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      // Wheel scroll control\n      \n      setTimeout(() => {\n        // Wheel scroll control\n      }, 40);\n      \n      if (wheelLock) return;\n      const delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY;\n      if (Math.abs(delta) < 20) return;\n      wheelLock = true;\n      \n      if (delta > 0) {\n        velocity -= unitWidth / 6;\n      } else {\n        velocity += unitWidth / 6;\n      }\n      velocity = Math.max(-unitWidth, Math.min(unitWidth, velocity));\n      \n      setTimeout(() => { wheelLock = false; }, 90);\n    };\n    \n    // Touch/swipe control - EXACTA LÓGICA DE STORE\n    let touchStartX = 0;\n    let touchStartY = 0;\n    let touchEndX = 0;\n    let touchEndY = 0;\n    let isDragging = false; // Flag para saber si se está arrastrando\n    \n    const onTouchStart = (e) => {\n      // Solo en mobile (pantallas pequeñas)\n      if (window.innerWidth < 768) {\n        e.preventDefault(); // Bloquear scroll vertical completamente\n        touchStartX = e.touches[0].clientX;\n        touchStartY = e.touches[0].clientY;\n        mobileTouched = true; // Marcar que se ha tocado en mobile\n        isDragging = true;\n        autoPaused = true; // Pausar auto-scroll inmediatamente\n      }\n    };\n    \n    const onTouchMove = (e) => {\n      if (window.innerWidth < 768) {\n        touchEndX = e.touches[0].clientX;\n        touchEndY = e.touches[0].clientY;\n      }\n    };\n    \n    const onTouchEnd = (e) => {\n      if (window.innerWidth < 768) {\n        const deltaX = touchStartX - touchEndX;\n        const deltaY = touchStartY - touchEndY;\n        \n        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 30) {\n          // Movimiento de imagen en imagen\n          if (deltaX > 0) {\n            // Swipe izquierda - siguiente imagen\n            offsetPx -= unitWidth;\n          } else {\n            // Swipe derecha - imagen anterior\n            offsetPx += unitWidth;\n          }\n          \n          // En mobile: hacer snap a la posición exacta para centrado perfecto\n          const centerOffset = -baseWidth * MID;\n          const currentCenter = offsetPx - centerOffset;\n          const imageIndex = Math.round(currentCenter / unitWidth);\n          const targetOffset = centerOffset + (imageIndex * unitWidth);\n          \n          // Ajustar a la posición exacta de la imagen\n          offsetPx = targetOffset;\n          \n          // Aplicar la transformación con animación suave\n          applyTransform();\n        }\n      }\n    };\n\n    // Control con flechas del teclado\n    const onKeyDown = (e) => {\n      // Solo procesar si no estamos en un input o textarea\n      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;\n      \n      switch (e.key) {\n        case 'ArrowLeft':\n          e.preventDefault();\n          // Mover una imagen a la izquierda\n          offsetPx -= unitWidth;\n          break;\n        case 'ArrowRight':\n          e.preventDefault();\n          // Mover una imagen a la derecha\n          offsetPx += unitWidth;\n          break;\n        default:\n          return; // No procesar otras teclas\n      }\n      \n      // Normalizar posición inmediatamente\n      offsetPx = ((offsetPx % baseWidth) + baseWidth) % baseWidth - baseWidth * MID;\n      applyTransform();\n    };\n\n    // Agregar event listeners\n    const section = carouselRef.current?.closest('section');\n    if (section) {\n      section.addEventListener('wheel', onWheel, { passive: false });\n      section.addEventListener('touchstart', onTouchStart, { passive: false });\n      section.addEventListener('touchmove', onTouchMove, { passive: true });\n      section.addEventListener('touchend', onTouchEnd, { passive: true });\n      \n      // Pause auto-scroll while hovering the carousel area\n      section.addEventListener('mouseenter', () => { autoPaused = true; });\n      section.addEventListener('mouseleave', () => { autoPaused = false; });\n    }\n    \n    // Agregar event listener para teclado (global)\n    document.addEventListener('keydown', onKeyDown);\n    \n    // Cleanup\n    return () => {\n      if (section) {\n        section.removeEventListener('wheel', onWheel);\n        section.removeEventListener('touchstart', onTouchStart);\n        section.removeEventListener('touchmove', onTouchMove);\n        section.removeEventListener('touchend', onTouchEnd);\n        section.removeEventListener('mouseenter', () => { autoPaused = true; });\n        section.removeEventListener('mouseleave', () => { autoPaused = false; });\n      }\n      document.removeEventListener('keydown', onKeyDown);\n    };\n  }, []);\n\n  // Función para posicionar el preview en hover\n  const positionPreview = (e, slide) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    \n    // Solo mostrar preview en el 60% central de la imagen\n    const shouldShow = x > rect.width * 0.2 && x < rect.width * 0.8;\n    \n    if (shouldShow) {\n      const pad = 4; // Offset del cursor\n      setPreviewPosition({\n        x: e.clientX + pad,\n        y: e.clientY - 130 + pad // Centrar verticalmente\n      });\n      setHoverPreview({\n        color: slide.color,\n        preview: slide.preview,\n        location: slide.location\n      });\n    }\n  };\n\n  // Detectar si es un dispositivo táctil\n  const isTouchDevice = () => {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n  };\n\n  // Event handlers para el preview - solo en dispositivos no táctiles\n  const handleMouseEnter = (e, slide) => {\n    if (!isTouchDevice()) {\n      positionPreview(e, slide);\n    }\n  };\n\n  const handleMouseMove = (e, slide) => {\n    if (!isTouchDevice()) {\n      positionPreview(e, slide);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (!isTouchDevice()) {\n      setHoverPreview(null);\n    }\n  };\n\n  return (\n    <section \n      className=\"relative w-full select-none\" \n      aria-label=\"Featured pieces\"\n    >\n      {/* Gallery container */}\n      <div className=\"relative w-full h-[50vh] md:h-[55vh] xl:h-[60vh] overflow-hidden\">\n        {/* Gallery track */}\n        <div \n          ref={carouselRef}\n          className=\"relative h-full flex items-center gap-2 px-6\"\n          style={{ \n            width: `${slides.length * 350}px`,\n            transform: 'translate3d(0, 0, 0)',\n            // Optimizaciones específicas para Chrome\n            ...(navigator.userAgent.includes('Chrome') && {\n              willChange: 'transform',\n              backfaceVisibility: 'hidden',\n              perspective: '1000px'\n            })\n          }}\n        >\n          {/* All slides visible horizontally */}\n          {slides.map((slide, index) => (\n            <figure\n              key={slide.id}\n              className=\"flex-shrink-0 flex items-center justify-center transition-all duration-300 ease-in-out cursor-pointer\"\n              style={{\n                width: windowWidth < 400 ? '250px' : windowWidth < 768 ? '300px' : windowWidth < 1024 ? '260px' : windowWidth < 1200 ? '330px' : windowWidth < 1366 ? '400px' : windowWidth < 1440 ? '272px' : '350px',\n                height: '100%'\n              }}\n              onMouseEnter={(e) => handleMouseEnter(e, slide)}\n              onMouseMove={(e) => handleMouseMove(e, slide)}\n              onMouseLeave={handleMouseLeave}\n              onClick={() => {\n                console.log('Click en slide ID:', slide.id, 'Título:', slide.title);\n                if (slide.id.toString().startsWith('1')) {\n                  console.log('Redirigiendo a /deathandlife');\n                  window.location.href = '/deathandlife';\n                } else if (slide.id.toString().startsWith('3')) {\n                  console.log('Redirigiendo a /sunflowers');\n                  window.location.href = '/sunflowers';\n                } else if (slide.id.toString().startsWith('4')) {\n                  console.log('Redirigiendo a /lesmeules');\n                  window.location.href = '/lesmeules';\n                } else {\n                  console.log('Redirigiendo a /gioconda');\n                  window.location.href = '/gioconda';\n                }\n              }}\n            >\n              <img\n                src={slide.src}\n                alt={slide.title}\n                className=\"block w-full h-auto max-w-full max-h-full object-contain select-none\"\n                draggable={false}\n                loading=\"lazy\"\n                decoding=\"async\"\n              />\n            </figure>\n          ))}\n        </div>\n      </div>\n\n      {/* Preview elegante en hover - solo en dispositivos no táctiles */}\n      {hoverPreview && !isTouchDevice() && (\n        <div \n          className=\"fixed z-[2000] pointer-events-none overflow-hidden transform transition-all duration-300 ease-out animate-in fade-in-0 zoom-in-95\"\n          style={{\n            left: previewPosition.x + 'px',\n            top: previewPosition.y + 'px',\n            width: '280px',\n            aspectRatio: '16 / 9'\n          }}\n        >\n          {hoverPreview.preview && (\n            <div className=\"relative w-full h-full\">\n              {/* Imagen principal con bordes redondeados */}\n              <div className=\"w-full h-full bg-white rounded-2xl shadow-2xl overflow-hidden\">\n                <img \n                  src={hoverPreview.preview}\n                  alt=\"Preview\"\n                  className=\"w-full h-full object-cover\"\n                  loading=\"lazy\"\n                />\n              </div>\n              \n              {/* Overlay elegante con información */}\n              <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4 rounded-b-2xl\">\n                <div className=\"text-white text-center\">\n                  <p className=\"text-[10px] font-normal tracking-wide\">\n                    {hoverPreview.location || 'París, 2024'}\n                  </p>\n                </div>\n              </div>\n              \n              {/* Indicador de esquina */}\n              <div className=\"absolute top-3 right-3 w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\n            </div>\n          )}\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default Carousel3D;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACS,eAAe,EAAEC,kBAAkB,CAAC,GAAGV,QAAQ,CAAC;IAAEW,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EACtE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAACe,MAAM,CAACC,UAAU,CAAC;EACjE,MAAMC,WAAW,GAAGhB,MAAM,CAAC,IAAI,CAAC;;EAEhC;EACA,MAAMiB,UAAU,GAAG,CACjB;IAAEC,EAAE,EAAE,CAAC;IAAEC,GAAG,EAAE,gCAAgC;IAAEC,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE,uJAAuJ;IAAEC,QAAQ,EAAE;EAA+B,CAAC,EACvS;IAAEL,EAAE,EAAE,CAAC;IAAEC,GAAG,EAAE,kCAAkC;IAAEC,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE,8CAA8C;IAAEC,QAAQ,EAAE;EAA6B,CAAC,EAChM;IAAEL,EAAE,EAAE,CAAC;IAAEC,GAAG,EAAE,kCAAkC;IAAEC,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE,4HAA4H;IAAEC,QAAQ,EAAE;EAAiC,CAAC,EAClR;IAAEL,EAAE,EAAE,CAAC;IAAEC,GAAG,EAAE,kCAAkC;IAAEC,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE,SAAS;IAAEC,OAAO,EAAE,oCAAoC;IAAEC,QAAQ,EAAE;EAA8B,CAAC,CACxL;;EAED;EACA,MAAMC,MAAM,GAAG,EAAE;EACjB,MAAMC,MAAM,GAAG,CAAC;EAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,MAAM,EAAEC,CAAC,EAAE,EAAE;IAC/BT,UAAU,CAACU,OAAO,CAACC,KAAK,IAAI;MAC1BJ,MAAM,CAACK,IAAI,CAAC;QACV,GAAGD,KAAK;QACRV,EAAE,EAAE,GAAGU,KAAK,CAACV,EAAE,SAASQ,CAAC;MAC3B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;EAEA;EACAzB,SAAS,CAAC,MAAM;IACd,MAAM6B,YAAY,GAAGA,CAAA,KAAM;MACzBjB,cAAc,CAACC,MAAM,CAACC,UAAU,CAAC;IACnC,CAAC;IAEDD,MAAM,CAACiB,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IAC/C,OAAO,MAAMhB,MAAM,CAACkB,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;EACjE,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA7B,SAAS,CAAC,MAAM;IAAA,IAAAgC,oBAAA;IACd;IACA,MAAMC,IAAI,GAAGjB,UAAU,CAACkB,MAAM;IAC9B,MAAMC,MAAM,GAAG,CAAC;IAChB,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACH,MAAM,GAAG,CAAC,CAAC;;IAElC;IACA,MAAMI,UAAU,GAAG5B,WAAW,GAAG,GAAG,GAAG,GAAG,GAAGA,WAAW,GAAG,GAAG,GAAG,GAAG,GAAGA,WAAW,GAAG,IAAI,GAAG,GAAG,GAAGA,WAAW,GAAG,IAAI,GAAG,GAAG,GAAGA,WAAW,GAAG,IAAI,GAAG,GAAG,GAAGA,WAAW,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;IACxL,MAAM6B,KAAK,GAAG7B,WAAW,GAAG,GAAG,GAAG,CAAC,GAAGA,WAAW,GAAG,GAAG,GAAG,CAAC,GAAGA,WAAW,GAAG,IAAI,GAAG,EAAE,GAAGA,WAAW,GAAG,IAAI,GAAG,CAAC,GAAGA,WAAW,GAAG,IAAI,GAAG,EAAE,GAAGA,WAAW,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvK,MAAM8B,SAAS,GAAGF,UAAU,GAAGC,KAAK;;IAEpC;IACAE,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAE;MAC/BhC,WAAW;MACX4B,UAAU;MACVC,KAAK;MACLC,SAAS;MACTR;IACF,CAAC,CAAC;IAEF,IAAIW,SAAS,GAAGH,SAAS,GAAGR,IAAI;IAChC,IAAIY,QAAQ,GAAG,CAACD,SAAS,GAAGR,GAAG;IAC/B,IAAIU,QAAQ,GAAG,CAAC;;IAEhB;IACA,MAAMC,OAAO,GAAG,GAAG,CAAC,CAAC;;IAErB;IACA,IAAIC,UAAU,GAAG,KAAK;IACtB,IAAIC,aAAa,GAAG,KAAK,CAAC,CAAC;;IAE3B,MAAMC,cAAc,GAAGA,CAAA,KAAM;MAC3B,IAAInC,WAAW,CAACoC,OAAO,EAAE;QACvB;QACA,IAAIxC,WAAW,GAAG,GAAG,EAAE;UACrBI,WAAW,CAACoC,OAAO,CAACC,KAAK,CAACC,UAAU,GAAG,yBAAyB;QAClE,CAAC,MAAM;UACL;UACAtC,WAAW,CAACoC,OAAO,CAACC,KAAK,CAACC,UAAU,GAAG,MAAM;QAC/C;QAEAtC,WAAW,CAACoC,OAAO,CAACC,KAAK,CAACE,SAAS,GAAG,eAAejB,IAAI,CAACkB,KAAK,CAACV,QAAQ,CAAC,WAAW;MACtF;IACF,CAAC;;IAED;IACA,MAAMW,OAAO,GAAGA,CAAA,KAAM;MACpB;MACA,MAAMC,gBAAgB,GAAG5C,MAAM,CAACC,UAAU,IAAI,GAAG,IAAI,CAACmC,aAAa;MACnE,MAAMS,KAAK,GAAIV,UAAU,IAAI,CAACS,gBAAgB,GAAI,CAAC,GAAGV,OAAO;MAE7DF,QAAQ,IAAKC,QAAQ,GAAG,GAAG,GAAIY,KAAK;MAEpCZ,QAAQ,IAAI,IAAI;MAEhBD,QAAQ,GAAG,CAAEA,QAAQ,GAAGD,SAAS,GAAIA,SAAS,IAAIA,SAAS,GAAGA,SAAS,GAAGR,GAAG;MAE7Ec,cAAc,CAAC,CAAC;MAChBS,qBAAqB,CAACH,OAAO,CAAC;IAChC,CAAC;;IAED;IACAA,OAAO,CAAC,CAAC;;IAET;IACA,IAAII,SAAS,GAAG,KAAK;IACrB,MAAMC,OAAO,GAAIC,CAAC,IAAK;MACrBA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;MACnB;;MAEAC,UAAU,CAAC,MAAM;QACf;MAAA,CACD,EAAE,EAAE,CAAC;MAEN,IAAIL,SAAS,EAAE;MACf,MAAMM,KAAK,GAAG7B,IAAI,CAAC8B,GAAG,CAACL,CAAC,CAACM,MAAM,CAAC,GAAG/B,IAAI,CAAC8B,GAAG,CAACL,CAAC,CAACO,MAAM,CAAC,GAAGP,CAAC,CAACM,MAAM,GAAGN,CAAC,CAACO,MAAM;MAC3E,IAAIhC,IAAI,CAAC8B,GAAG,CAACD,KAAK,CAAC,GAAG,EAAE,EAAE;MAC1BN,SAAS,GAAG,IAAI;MAEhB,IAAIM,KAAK,GAAG,CAAC,EAAE;QACbpB,QAAQ,IAAIL,SAAS,GAAG,CAAC;MAC3B,CAAC,MAAM;QACLK,QAAQ,IAAIL,SAAS,GAAG,CAAC;MAC3B;MACAK,QAAQ,GAAGT,IAAI,CAACiC,GAAG,CAAC,CAAC7B,SAAS,EAAEJ,IAAI,CAACkC,GAAG,CAAC9B,SAAS,EAAEK,QAAQ,CAAC,CAAC;MAE9DmB,UAAU,CAAC,MAAM;QAAEL,SAAS,GAAG,KAAK;MAAE,CAAC,EAAE,EAAE,CAAC;IAC9C,CAAC;;IAED;IACA,IAAIY,WAAW,GAAG,CAAC;IACnB,IAAIC,WAAW,GAAG,CAAC;IACnB,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,UAAU,GAAG,KAAK,CAAC,CAAC;;IAExB,MAAMC,YAAY,GAAIf,CAAC,IAAK;MAC1B;MACA,IAAIjD,MAAM,CAACC,UAAU,GAAG,GAAG,EAAE;QAC3BgD,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC;QACpBS,WAAW,GAAGV,CAAC,CAACgB,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO;QAClCN,WAAW,GAAGX,CAAC,CAACgB,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO;QAClC/B,aAAa,GAAG,IAAI,CAAC,CAAC;QACtB2B,UAAU,GAAG,IAAI;QACjB5B,UAAU,GAAG,IAAI,CAAC,CAAC;MACrB;IACF,CAAC;IAED,MAAMiC,WAAW,GAAInB,CAAC,IAAK;MACzB,IAAIjD,MAAM,CAACC,UAAU,GAAG,GAAG,EAAE;QAC3B4D,SAAS,GAAGZ,CAAC,CAACgB,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO;QAChCJ,SAAS,GAAGb,CAAC,CAACgB,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO;MAClC;IACF,CAAC;IAED,MAAME,UAAU,GAAIpB,CAAC,IAAK;MACxB,IAAIjD,MAAM,CAACC,UAAU,GAAG,GAAG,EAAE;QAC3B,MAAMsD,MAAM,GAAGI,WAAW,GAAGE,SAAS;QACtC,MAAML,MAAM,GAAGI,WAAW,GAAGE,SAAS;QAEtC,IAAItC,IAAI,CAAC8B,GAAG,CAACC,MAAM,CAAC,GAAG/B,IAAI,CAAC8B,GAAG,CAACE,MAAM,CAAC,IAAIhC,IAAI,CAAC8B,GAAG,CAACC,MAAM,CAAC,GAAG,EAAE,EAAE;UAChE;UACA,IAAIA,MAAM,GAAG,CAAC,EAAE;YACd;YACAvB,QAAQ,IAAIJ,SAAS;UACvB,CAAC,MAAM;YACL;YACAI,QAAQ,IAAIJ,SAAS;UACvB;;UAEA;UACA,MAAM0C,YAAY,GAAG,CAACvC,SAAS,GAAGR,GAAG;UACrC,MAAMgD,aAAa,GAAGvC,QAAQ,GAAGsC,YAAY;UAC7C,MAAME,UAAU,GAAGhD,IAAI,CAACkB,KAAK,CAAC6B,aAAa,GAAG3C,SAAS,CAAC;UACxD,MAAM6C,YAAY,GAAGH,YAAY,GAAIE,UAAU,GAAG5C,SAAU;;UAE5D;UACAI,QAAQ,GAAGyC,YAAY;;UAEvB;UACApC,cAAc,CAAC,CAAC;QAClB;MACF;IACF,CAAC;;IAED;IACA,MAAMqC,SAAS,GAAIzB,CAAC,IAAK;MACvB;MACA,IAAIA,CAAC,CAAC0B,MAAM,CAACC,OAAO,KAAK,OAAO,IAAI3B,CAAC,CAAC0B,MAAM,CAACC,OAAO,KAAK,UAAU,EAAE;MAErE,QAAQ3B,CAAC,CAAC4B,GAAG;QACX,KAAK,WAAW;UACd5B,CAAC,CAACC,cAAc,CAAC,CAAC;UAClB;UACAlB,QAAQ,IAAIJ,SAAS;UACrB;QACF,KAAK,YAAY;UACfqB,CAAC,CAACC,cAAc,CAAC,CAAC;UAClB;UACAlB,QAAQ,IAAIJ,SAAS;UACrB;QACF;UACE;QAAQ;MACZ;;MAEA;MACAI,QAAQ,GAAG,CAAEA,QAAQ,GAAGD,SAAS,GAAIA,SAAS,IAAIA,SAAS,GAAGA,SAAS,GAAGR,GAAG;MAC7Ec,cAAc,CAAC,CAAC;IAClB,CAAC;;IAED;IACA,MAAMyC,OAAO,IAAA3D,oBAAA,GAAGjB,WAAW,CAACoC,OAAO,cAAAnB,oBAAA,uBAAnBA,oBAAA,CAAqB4D,OAAO,CAAC,SAAS,CAAC;IACvD,IAAID,OAAO,EAAE;MACXA,OAAO,CAAC7D,gBAAgB,CAAC,OAAO,EAAE+B,OAAO,EAAE;QAAEgC,OAAO,EAAE;MAAM,CAAC,CAAC;MAC9DF,OAAO,CAAC7D,gBAAgB,CAAC,YAAY,EAAE+C,YAAY,EAAE;QAAEgB,OAAO,EAAE;MAAM,CAAC,CAAC;MACxEF,OAAO,CAAC7D,gBAAgB,CAAC,WAAW,EAAEmD,WAAW,EAAE;QAAEY,OAAO,EAAE;MAAK,CAAC,CAAC;MACrEF,OAAO,CAAC7D,gBAAgB,CAAC,UAAU,EAAEoD,UAAU,EAAE;QAAEW,OAAO,EAAE;MAAK,CAAC,CAAC;;MAEnE;MACAF,OAAO,CAAC7D,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAAEkB,UAAU,GAAG,IAAI;MAAE,CAAC,CAAC;MACpE2C,OAAO,CAAC7D,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAAEkB,UAAU,GAAG,KAAK;MAAE,CAAC,CAAC;IACvE;;IAEA;IACA8C,QAAQ,CAAChE,gBAAgB,CAAC,SAAS,EAAEyD,SAAS,CAAC;;IAE/C;IACA,OAAO,MAAM;MACX,IAAII,OAAO,EAAE;QACXA,OAAO,CAAC5D,mBAAmB,CAAC,OAAO,EAAE8B,OAAO,CAAC;QAC7C8B,OAAO,CAAC5D,mBAAmB,CAAC,YAAY,EAAE8C,YAAY,CAAC;QACvDc,OAAO,CAAC5D,mBAAmB,CAAC,WAAW,EAAEkD,WAAW,CAAC;QACrDU,OAAO,CAAC5D,mBAAmB,CAAC,UAAU,EAAEmD,UAAU,CAAC;QACnDS,OAAO,CAAC5D,mBAAmB,CAAC,YAAY,EAAE,MAAM;UAAEiB,UAAU,GAAG,IAAI;QAAE,CAAC,CAAC;QACvE2C,OAAO,CAAC5D,mBAAmB,CAAC,YAAY,EAAE,MAAM;UAAEiB,UAAU,GAAG,KAAK;QAAE,CAAC,CAAC;MAC1E;MACA8C,QAAQ,CAAC/D,mBAAmB,CAAC,SAAS,EAAEwD,SAAS,CAAC;IACpD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMQ,eAAe,GAAGA,CAACjC,CAAC,EAAEnC,KAAK,KAAK;IACpC,MAAMqE,IAAI,GAAGlC,CAAC,CAACmC,aAAa,CAACC,qBAAqB,CAAC,CAAC;IACpD,MAAMzF,CAAC,GAAGqD,CAAC,CAACiB,OAAO,GAAGiB,IAAI,CAACG,IAAI;IAC/B,MAAMzF,CAAC,GAAGoD,CAAC,CAACkB,OAAO,GAAGgB,IAAI,CAACI,GAAG;;IAE9B;IACA,MAAMC,UAAU,GAAG5F,CAAC,GAAGuF,IAAI,CAACM,KAAK,GAAG,GAAG,IAAI7F,CAAC,GAAGuF,IAAI,CAACM,KAAK,GAAG,GAAG;IAE/D,IAAID,UAAU,EAAE;MACd,MAAME,GAAG,GAAG,CAAC,CAAC,CAAC;MACf/F,kBAAkB,CAAC;QACjBC,CAAC,EAAEqD,CAAC,CAACiB,OAAO,GAAGwB,GAAG;QAClB7F,CAAC,EAAEoD,CAAC,CAACkB,OAAO,GAAG,GAAG,GAAGuB,GAAG,CAAC;MAC3B,CAAC,CAAC;MACFjG,eAAe,CAAC;QACdc,KAAK,EAAEO,KAAK,CAACP,KAAK;QAClBC,OAAO,EAAEM,KAAK,CAACN,OAAO;QACtBC,QAAQ,EAAEK,KAAK,CAACL;MAClB,CAAC,CAAC;IACJ;EACF,CAAC;;EAED;EACA,MAAMkF,aAAa,GAAGA,CAAA,KAAM;IAC1B,OAAO,cAAc,IAAI3F,MAAM,IAAI4F,SAAS,CAACC,cAAc,GAAG,CAAC;EACjE,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAGA,CAAC7C,CAAC,EAAEnC,KAAK,KAAK;IACrC,IAAI,CAAC6E,aAAa,CAAC,CAAC,EAAE;MACpBT,eAAe,CAACjC,CAAC,EAAEnC,KAAK,CAAC;IAC3B;EACF,CAAC;EAED,MAAMiF,eAAe,GAAGA,CAAC9C,CAAC,EAAEnC,KAAK,KAAK;IACpC,IAAI,CAAC6E,aAAa,CAAC,CAAC,EAAE;MACpBT,eAAe,CAACjC,CAAC,EAAEnC,KAAK,CAAC;IAC3B;EACF,CAAC;EAED,MAAMkF,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAI,CAACL,aAAa,CAAC,CAAC,EAAE;MACpBlG,eAAe,CAAC,IAAI,CAAC;IACvB;EACF,CAAC;EAED,oBACEJ,OAAA;IACE4G,SAAS,EAAC,6BAA6B;IACvC,cAAW,iBAAiB;IAAAC,QAAA,gBAG5B7G,OAAA;MAAK4G,SAAS,EAAC,kEAAkE;MAAAC,QAAA,eAE/E7G,OAAA;QACE8G,GAAG,EAAEjG,WAAY;QACjB+F,SAAS,EAAC,8CAA8C;QACxD1D,KAAK,EAAE;UACLkD,KAAK,EAAE,GAAG/E,MAAM,CAACW,MAAM,GAAG,GAAG,IAAI;UACjCoB,SAAS,EAAE,sBAAsB;UACjC;UACA,IAAImD,SAAS,CAACQ,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAC,IAAI;YAC5CC,UAAU,EAAE,WAAW;YACvBC,kBAAkB,EAAE,QAAQ;YAC5BC,WAAW,EAAE;UACf,CAAC;QACH,CAAE;QAAAN,QAAA,EAGDxF,MAAM,CAAC+F,GAAG,CAAC,CAAC3F,KAAK,EAAE4F,KAAK,kBACvBrH,OAAA;UAEE4G,SAAS,EAAC,uGAAuG;UACjH1D,KAAK,EAAE;YACLkD,KAAK,EAAE3F,WAAW,GAAG,GAAG,GAAG,OAAO,GAAGA,WAAW,GAAG,GAAG,GAAG,OAAO,GAAGA,WAAW,GAAG,IAAI,GAAG,OAAO,GAAGA,WAAW,GAAG,IAAI,GAAG,OAAO,GAAGA,WAAW,GAAG,IAAI,GAAG,OAAO,GAAGA,WAAW,GAAG,IAAI,GAAG,OAAO,GAAG,OAAO;YACtM6G,MAAM,EAAE;UACV,CAAE;UACFC,YAAY,EAAG3D,CAAC,IAAK6C,gBAAgB,CAAC7C,CAAC,EAAEnC,KAAK,CAAE;UAChD+F,WAAW,EAAG5D,CAAC,IAAK8C,eAAe,CAAC9C,CAAC,EAAEnC,KAAK,CAAE;UAC9CgG,YAAY,EAAEd,gBAAiB;UAC/Be,OAAO,EAAEA,CAAA,KAAM;YACblF,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEhB,KAAK,CAACV,EAAE,EAAE,SAAS,EAAEU,KAAK,CAACR,KAAK,CAAC;YACnE,IAAIQ,KAAK,CAACV,EAAE,CAAC4G,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;cACvCpF,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;cAC3C9B,MAAM,CAACS,QAAQ,CAACyG,IAAI,GAAG,eAAe;YACxC,CAAC,MAAM,IAAIpG,KAAK,CAACV,EAAE,CAAC4G,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;cAC9CpF,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;cACzC9B,MAAM,CAACS,QAAQ,CAACyG,IAAI,GAAG,aAAa;YACtC,CAAC,MAAM,IAAIpG,KAAK,CAACV,EAAE,CAAC4G,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;cAC9CpF,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;cACxC9B,MAAM,CAACS,QAAQ,CAACyG,IAAI,GAAG,YAAY;YACrC,CAAC,MAAM;cACLrF,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;cACvC9B,MAAM,CAACS,QAAQ,CAACyG,IAAI,GAAG,WAAW;YACpC;UACF,CAAE;UAAAhB,QAAA,eAEF7G,OAAA;YACEgB,GAAG,EAAES,KAAK,CAACT,GAAI;YACf8G,GAAG,EAAErG,KAAK,CAACR,KAAM;YACjB2F,SAAS,EAAC,sEAAsE;YAChFmB,SAAS,EAAE,KAAM;YACjBC,OAAO,EAAC,MAAM;YACdC,QAAQ,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjB;QAAC,GAjCG5G,KAAK,CAACV,EAAE;UAAAmH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAkCP,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLlI,YAAY,IAAI,CAACmG,aAAa,CAAC,CAAC,iBAC/BtG,OAAA;MACE4G,SAAS,EAAC,mIAAmI;MAC7I1D,KAAK,EAAE;QACL+C,IAAI,EAAE5F,eAAe,CAACE,CAAC,GAAG,IAAI;QAC9B2F,GAAG,EAAE7F,eAAe,CAACG,CAAC,GAAG,IAAI;QAC7B4F,KAAK,EAAE,OAAO;QACdkC,WAAW,EAAE;MACf,CAAE;MAAAzB,QAAA,EAED1G,YAAY,CAACgB,OAAO,iBACnBnB,OAAA;QAAK4G,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBAErC7G,OAAA;UAAK4G,SAAS,EAAC,+DAA+D;UAAAC,QAAA,eAC5E7G,OAAA;YACEgB,GAAG,EAAEb,YAAY,CAACgB,OAAQ;YAC1B2G,GAAG,EAAC,SAAS;YACblB,SAAS,EAAC,4BAA4B;YACtCoB,OAAO,EAAC;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAGNrI,OAAA;UAAK4G,SAAS,EAAC,+GAA+G;UAAAC,QAAA,eAC5H7G,OAAA;YAAK4G,SAAS,EAAC,wBAAwB;YAAAC,QAAA,eACrC7G,OAAA;cAAG4G,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EACjD1G,YAAY,CAACiB,QAAQ,IAAI;YAAa;cAAA8G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNrI,OAAA;UAAK4G,SAAS,EAAC;QAAsE;UAAAsB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzF;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACM,CAAC;AAEd,CAAC;AAACnI,EAAA,CArYID,UAAU;AAAAsI,EAAA,GAAVtI,UAAU;AAuYhB,eAAeA,UAAU;AAAC,IAAAsI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}